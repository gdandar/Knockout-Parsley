!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),require("jquery"),require("parsleyjs"),exports):"function"==typeof define&&define.amd?define(["knockout","jquery","parsleyjs","exports"],e):e(ko,jQuery,ko.parsley={})}(function(e,r,n){function t(r){e.extenders[r]||(e.extenders[r]=function(e,n){return n.condition||n.message?o(e,{rule:r,params:n.params,condition:n.condition,message:n.message}):o(e,{rule:r,params:n}),e})}function a(r){var n=e.bindingHandlers[r].update;e.bindingHandlers[r].update=function(r,t,a,o,i){return n(r,t,a),e.bindingHandlers.validationCore.update(r,t,a,o,i)}}function o(e,r){e.extend({validatable:!0}),e.rules.push(r)}if(void 0===typeof e)throw"KnockoutJS not found!";if(void 0===typeof r().parsley)throw"Parsley not found!";var i,u=["required","minlength","maxlength","length","min","max","pattern","range","type"];e.parsley=n;var l=function(){return{nativeForEach:Array.prototype.forEach,isArray:Array.isArray||function(e){return"[object Array]"==toString.call(e)},each:function(e,r,n){if(null!==e)if(l.nativeForEach&&e.forEach===l.nativeForEach)e.forEach(r,n);else if(l.isArray(e)){for(var t=0,a=e.length;a>t;t++)if(r.call(n,e[t],t,e)===breaker)return}else for(var o in e)if(r.call(n,e[o],o,e)===breaker)return}}}();e.extenders.validatable=function(r,n){n&&!r.rules&&(r.rules=e.observableArray())},e.bindingHandlers.validationCore={update:function(e,n,t,a,o){var i=n();if(i.rules){var u=r(e).parsley();l.each(i.rules(),function(n){var t="data-"+n.rule,a=r(e).attr(t);("undefined"==typeof a||a===!1)&&(n.condition&&!n.condition(o.$root)?u.removeConstraint(n.rule):u.addConstraint(n.rule,n.params,void 0,!1))})}}};var s=function(){return{init:function(e){i=e,r(i).parsley(),l.each(u,function(e){t(e)}),a("value"),a("checked")}}}();e.utils.extend(n,s)});
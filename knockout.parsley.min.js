!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),require("jquery"),require("parsleyjs"),exports):"function"==typeof define&&define.amd?define(["knockout","jquery","parsleyjs","exports"],e):e(ko,jQuery,ko.parsley={})}(function(e,n,r){function t(n){e.extenders[n]||(e.extenders[n]=function(e,r){return r.condition||r.message?o(e,{rule:n,params:r.params,condition:r.condition,message:r.message}):o(e,{rule:n,params:r}),e})}function a(n){var r=e.bindingHandlers[n].update;e.bindingHandlers[n].update=function(n,t,a,o,i){return r(n,t,a),e.bindingHandlers.validationCore.update(n,t,a,o,i)}}function o(e,n){e.extend({validatable:!0}),e.rules.push(n)}if(void 0===typeof e)throw"KnockoutJS not found!";if(void 0===typeof n().parsley)throw"Parsley not found!";var i,u=["required","minlength","maxlength","length","min","max","pattern","range","type"];e.parsley=r;var l=function(){return{nativeForEach:Array.prototype.forEach,isArray:Array.isArray||function(e){return"[object Array]"==toString.call(e)},each:function(e,n,r){if(null!==e)if(l.nativeForEach&&e.forEach===l.nativeForEach)e.forEach(n,r);else if(l.isArray(e))for(var t=0,a=e.length;a>t;t++)n.call(r,e[t],t,e);else for(var o in e)e.hasOwnProperty(o)&&n.call(r,e[o],o,e)}}}();e.extenders.validatable=function(n,r){r&&!n.rules&&(n.rules=e.observableArray())},e.bindingHandlers.validationCore={update:function(e,r,t,a,o){var i=r();if(i.rules){var u=n(e).parsley();l.each(i.rules(),function(r){var t="data-"+r.rule,a=n(e).attr(t);("undefined"==typeof a||a===!1)&&(r.condition&&!r.condition(o.$root)?u.removeConstraint(r.rule):u.addConstraint(r.rule,r.params,void 0,!1))})}}};var s=function(){return{init:function(e){i=e,n(i).parsley(),l.each(u,function(e){t(e)}),a("value"),a("checked")}}}();e.utils.extend(r,s)});